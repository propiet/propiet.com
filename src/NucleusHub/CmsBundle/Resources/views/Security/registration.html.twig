{% extends "NucleusHubCmsBundle::layout.html.twig" %}
{% block title %}
  <title>Propiet &middot; Registrarme</title>
{% endblock %}
{% block meta %}
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
{% endblock %}
    {#
        If you want to control the URL the user
        is redirected to on success (more details below)
        <input type="hidden" name="_target_path" value="/account" />
    #}
{% block breadcum %}
    <div class="row">
        {% include 'NucleusHubCmsBundle:Widget:breadcrumb.html.twig' with {'routes': routes} %}
    </div>
{% endblock %}

{% block content %}
<div class="row">
<div class="container">
    {% if form_errors(form) %}
    <div class="alert alert-danger alert-dismissable">
        <strong>Oops!</strong> Ocurrio un error inesperado, intente nuevamente más tarde.
    </div>
    {% endif %}
    {% if show == 1 %}
    <div class="alert alert-success alert-dismissable">
        <strong>Exito!</strong> Verifica tu casilla de correo, enviamos información para activar tu cuenta.
    </div>
    {% endif %}
    {% if show == 2 %}
    <div class="alert alert-danger alert-dismissable">
        <strong>Oops!</strong> Ocurrio un error inesperado, intente nuevamente más tarde.
    </div>
    {% endif %}
    {% if show == 3 %}
    <div class="alert alert-warning alert-dismissable">
        <strong>Oops!</strong> Ya existe un usuario registrado con esa dirección de correo electrónico.
    </div>
    {% endif %}
        <div class="col-md-4 col-md-offset-4 well well-sm">
            <legend><img src="{{asset('bundles/nucleushubcms/images/logo.jpg') }}" alt=""/> Registrarme!</legend>
            <form id="form-registration" name="form" action="{{ path('user_security_registration') }}" {{ form_enctype(form) }} method="POST" role="form">
            	{{ form_widget(form._token) }} 
                <div class="form-group">
                    <p class="help-block">Soy:</p>
                    {{ form_widget(form.role, {'attr':{'class':'form-control','title':'Seleccione una opción'}}) }}
                </div>
                <div id="agency-block" class="form-group">
                    {{ form_widget(form.agency_name, {'attr':{'class':'form-control','title':'Ingrese el nombre.','placeholder':'Nombre de la inmobiliaria', 'data-parsley-required-message':'Este campo es requerido'}}) }}
                </div>
                <div id="name-block" class="row">
	                <div class="col-xs-6 col-md-6" >
	                    <div class="form-group">
	                    	{{ form_widget(form.first_name, {'attr':{'class':'form-control','title':'Ingrese su nombre.','placeholder':'Nombre', 'data-parsley-required-message':'Este campo es requerido'}}) }}
	                    </div>
	                </div>
	                <div class="col-xs-6 col-md-6">
	                     <div class="form-group">
	                     	{{ form_widget(form.last_name, {'attr':{'class':'form-control','title':'Ingrese su apellido.','placeholder':'Apellido', 'data-parsley-required-message':'Este campo es requerido'}}) }}                       
	                    </div>
	                </div>
                </div>
                <div class="form-group">
                	{{ form_widget(form.email, {'attr':{'class':'form-control','title':'Ingrese su email.','placeholder':'email@ejemplo.com', 'data-parsley-required-message':'Este campo es requerido'}}) }}
                </div>
                <div  class="form-group">
                	{{ form_widget(form.phone, {'attr':{'class':'form-control','title':'Ingrese su teléfono.','placeholder':'ej. 1122334455','min-length':9, 'data-parsley-required-message':'Este campo es requerido', 'data-parsley-type':'number', 'data-parsley-type-message':'Ingrese n&uacute;meros'}}) }}                    
                </div>
                <div  class="form-group">
                	{{ form_widget(form.password1, {'attr':{'class':'form-control','title':'Ingrese una contraseña.','placeholder':'Contraseña','min-length':8, 'data-parsley-required-message':'Este campo es requerido'}}) }}                    
                </div>
                <div  class="form-group">
                	{{ form_widget(form.password2, {'attr':{'class':'form-control','title':'Repita la contraseña','placeholder':'Repita la Contraseña.','min-length':8, 'data-parsley-required-message':'Este campo es requerido'}}) }}               
                </div>                
                <button id="btn-submit" class="btn btn-lg btn-danger btn-block" type="submit">Registrarme</button>
            </form>
        </div>
    </div>
</div>
<script src="{{ asset('bundles/nucleushubcms/js/lib/parsley.min.js') }}"></script>
<script type="application/javascript" src="{{ asset('bundles/nucleushubcms/js/propiet/registration.js') }}"></script>
<script type="application/javascript">
    $( document ).ready(function() {    
        registration.init();
    });
</script>
{% endblock %}